---
 title: not able to login after upgrading from 15 to 16
---
<div class='threadlist'>
<br /><div><a href='exported_forum1.html' class='midtext'>Back to: Thread list</a></div>
<br /><br /><div><strong>Pages:</strong><a href="exported_forum1.html?page=1">1</a> <a href="exported_forum2.html?page=2">2</a> <a href="exported_forum3.html?page=3">3</a> <a href="exported_forum4.html?page=4">4</a> <a href="exported_forum5.html?page=5">5</a> <strong><a href="exported_forum6.html">6</a></strong> <a href="exported_forum7.html?page=7">7</a> <a href="exported_forum8.html?page=8">8</a> <a href="exported_forum9.html?page=9">9</a> <a href="exported_forum10.html?page=10">10</a> <a href="exported_forum11.html?page=11">11</a> <a href="exported_forum12.html?page=12">12</a> <a href="exported_forum13.html?page=13">13</a> <a href="exported_forum14.html?page=14">14</a> <a href="exported_forum15.html?page=15">15</a> </div>
<div><p><br /><h3>not able to login after upgrading from 15 to 16</h3></div><br />
<div><ul class='forum-thread'>

	<li class="even">
		<a name="15610"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-10-31 09:39:50</p>
            </div>
            <div class="postheader"><h3>not able to login after upgrading from 15 to 16</h3></div>
				
			<div class="body">
				<p>Hello,<br />
<br />
I have upgraded ATUtor from 1.5.5 to 1.6.2, on Windows, and the upgrade seemed to go fine. There is one problem: I cannot login. My login name is still in the DB, and so is the encrypted password. But when trying to login, my password is not recognized by the system. <br />
<br />
I am able to create and use a new account, but in a real-life situation, I cannot expect all the users to do the same...<br />
<br />
Has anyone encountered this problem before?<br />
<br />
<br />
Thanks,<br />
<br />
<br />
Inna</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15611"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-10-31 09:48:49</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Hi, <br />
<br />
This could be a theme problem.<br />
<br />
http://www.atutor.ca/view/7/13789/1.html</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15632"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 09:15:27</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Thank you for your suggestion, but this is not the problem in my case. <br />
<br />
1. After upgrade, NO ONE can login. Seems like all the passwords in the DB have been modified.<br />
<br />
<br />
2. If I create a new account, it works fine.<br />
<br />
My goal is to be able to update from 1.5 to 1.6 and NOT lose any of the old accounts.<br />
<br />
Thanks,<br />
<br />
Inna<br />
<br />
<br />
<br />
If you are asking for help, provide lots of detail so problems can be reproduced.<br />
<br />
Things to describe: <br />
  Operating system ATutor is installed on -<br />
  ATutor version -<br />
  Patch #s applied -<br />
  ATutor theme name -<br />
  PHP version -<br />
  MySQL version -<br />
  Webserver & version -<br />
  Copies of error messages -<br />
  Changes to default settings -<br />
  Web browser being used -<br />
  ...and anything else relevant -</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15634"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 09:21:45</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>By "no one", do you mean you cannot even log in with administrator account(s)?<br />
<br />
edited: Yes, the DB has been modified in order to encrypt the user passwords in the db level.</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15635"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 09:44:51</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Just curious, which theme are you using? <br />
<br />
For your information, 1.6.2 is only a beta version, you shouldn't be upgrading your system to it just yet.</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15638"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 12:40:59</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Harris,<br />
<br />
I am sorry, I provided wrong info - I have upgraded to the latest stable version 1.6.1, and NOT 1.6.2.<br />
<br />
<br />
<br />
No one can login. Admins cannot login, and regular users cannot login either. <br />
<br />
<br />
The passwords have been encripted before the upgrade as well, right? But now the system does not recognize them. <br />
<br />
I am using one of the default themes, I cannot tell you which one exactly, since I cannot login as an admin right now.<br />
<br />
<br />
Any ideas?<br />
<br />
<br />
Thank you,<br />
<br />
Inna</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15639"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 12:59:06</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>hm.. if you have access to your database, can you check if the 'password' field are encrypted or not inside AT_admins and AT_members tables?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15640"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 14:40:39</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Harris,<br />
<br />
Yes, the password filed is encrypted in both tables.<br />
<br />
Inna</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15641"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 14:43:47</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Try doing a<br />
<br />
SELECT SHA1(' [your password] ')<br />
<br />
and see if the result matches the one being stored?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15642"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 14:59:53</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Yes, I did it, and the passwords do not match.</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15643"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:02:01</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>The passwords were not converted correctly.  Did you upgrade your system through ATutor upgrade steps?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15644"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:09:00</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Yes, I did.</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15645"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:17:34</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Is this an upgrade from 1.5.5 , or 1.5.0?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15646"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:29:28</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>From 1.5.5</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15647"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:34:23</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Thanks for sticking with me on this issue.  Can you further check your database for me, and see if the length of the field 'password' is of 40?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15649"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:38:17</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Also,<br />
If you are asking for help, provide lots of detail so problems can be reproduced.<br />
<br />
Things to describe: <br />
  Operating system ATutor is installed on -<br />
  ATutor version -<br />
  Patch #s applied -<br />
  ATutor theme name -<br />
  PHP version -<br />
  MySQL version -<br />
  Webserver & version -<br />
  Copies of error messages -<br />
  Changes to default settings -<br />
  Web browser being used -<br />
  ...and anything else relevant -</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15650"></a>
		<div class="forum-post-author">
			<label class="title">cindy</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 15:47:17</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Hi,<br />
<br />
Trying to produce your problem. I've tried upgrading from 1.5.5 to 1.6.1 and passwords are converted properly.<br />
<br />
Do you mind send your mysql database dump file? Please send to cindyqi dot li at utoronto dot ca.<br />
<br />
Thanks.</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15651"></a>
		<div class="forum-post-author">
			<label class="title">billglick</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 16:07:20</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>I am assisting Inna with this ATutor upgrade.<br />
<br />
Actually it looks like the passwords are not encrypted in either database.  I'm guessing a step or two were not completed successfully and the MySQL tables have not been upgraded properly.<br />
<br />
-Bill<br />
<br />
[reply][b]In reply to:[/b]<br />
Harris,<br />
<br />
Yes, the password filed is encrypted in both tables.<br />
<br />
Inna<br />
[op]forums/view.php?fid=7;pid=15610;page=1#15640[/op][/reply]</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15652"></a>
		<div class="forum-post-author">
			<label class="title">billglick</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 16:38:53</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Oops!  I was looking at the wrong database.  The passwords are indeed encrypted as Inna mentioned.<br />
<br />
[reply][b]In reply to:[/b]<br />
I am assisting Inna with this ATutor upgrade.<br />
<br />
Actually it looks like the passwords are not encrypted in either database.  I'm guessing a step or two were not completed successfully and the MySQL t...<br />
[op]forums/view.php?fid=7;pid=15610;page=2#15651[/op][/reply]</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15653"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 16:41:16</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Can you check the config file in include/config.inc.php<br />
<br />
and see if the database information is correct?</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15654"></a>
		<div class="forum-post-author">
			<label class="title">billglick</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 16:52:08</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>The database settings appear to be correct.<br />
<br />
But the encrypted password field doesn't match up with what we would expect.  It looks like all passwords were somehow converted incorrectly in the upgrade from 1.5.5 to 1.6.1.<br />
<br />
[reply][b]In reply to:[/b]<br />
Can you check the config file in include/config.inc.php<br />
<br />
and see if the database information is correct?<br />
[op]forums/view.php?fid=7;pid=15610;page=2#15653[/op][/reply]</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15655"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-03 18:29:54</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Harris,<br />
<br />
In response to your earlier question, the length of the password field in the db is indeed 40.</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15663"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-04 09:21:00</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>I am not too sure how the passwords are not being converted correctly.  I just did an upgrade from 155 to 161, and it went fine for all my users.<br />
<br />
Could you try re-upgrading your system with your backup database?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="15702"></a>
		<div class="forum-post-author">
			<label class="title">harris</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-10 14:31:05</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Have you failed to proceeded Step 2? And that you had to click "Retry"?  There is a bug that when the "Retry" is clicked, the password will get encrypted twice.</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="15715"></a>
		<div class="forum-post-author">
			<label class="title">innaz</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2008-11-12 18:51:26</p>
            </div>
            <div class="postheader"><h3>Re: not able to login after upgrading from 1.5 to 1.6</h3></div>
				
			<div class="body">
				<p>Yes, that could be it. I remember I had to click "Retry" a few times at one point.<br />
<br />
<br />
We have done the whole process all over again, and this time the passwords converted correctly, and everything seems to work.<br />
<br />
Thank you for all your help, Harris!<br />
<br />
-Inna</p>
			</div>
		</div>
	</li>
</ul></div>
