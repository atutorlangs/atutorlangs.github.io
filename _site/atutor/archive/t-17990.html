<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Strip slashes causing a problem with LaTeX</title>
<meta property="og:title" content="atutorlangs.github.io" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ATutor is an Open Source Web-based Learning Management System (LMS)." />
<meta property="og:description" content="ATutor is an Open Source Web-based Learning Management System (LMS)" />
<link rel="canonical" href="https://atutorlangs.github.io/" />
<meta property="og:url" content="https://atutorlangs.github.io/" />
<meta property="og:site_name" content="atutorlangs.github.io" />
<script type="application/ld+json">
{"name":"atutorlangs.github.io","description":"ATutor is an Open Source Web-based Learning Management System (LMS)","author":null,"@type":"WebSite","url":"https://atutorlangs.github.io/","image":null,"publisher":null,"headline":"atutorlangs.github.io","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=d21f7591e4074c34581bb4e6987280a5a8e29a48">
  </head>
  <body>
    <section class="page-header1">
     
    </section>
    <section class="main-content">
   	<a id="content" title="content area"></a>
	<div class="cd-fixed-bg cd-bg-1">
	<div class="tpbg">
		    <h1><em>AT</em>utor</h1>
	    <h2>Learning Management Tools</h2>
	    <br />
	    </div>
	</div>
	<div class="cd-scrolling-bg cd-color-2">
        <div class="clbg" style=""> 
        <div class="sidemenu1">
        <!-- Belongs at: /_includes/navigation.html -->
<nav>
<h3><a href="https://atutor.github.io/">Home</a></h3>
    
    <ul>
    <li><h3>ATutor LMS</h3>
  
        
        
          <li class=""><a href="https://atutor.github.io/atutor/index.html">ATutor Details</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/atutor/downloads.html">Downloads</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/atutor/features.html">Features</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/atutor/docs/index.html">Documentation</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/atutor/modules.html">Modules</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/atutor/themes.html">Themes</a></li>
        
        
          <li class=""><a href="https://atutorlangs.github.io/index.html">Translation</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/atutor/repositories.html">Code Repositories</a></li>
        
        
          <li class=""><a href="https://atutorlangs.github.io/atutor/archive/exported_forum1.html">Support Forum Archive</a></li>
        
      </ul>
  
    <ul>
    <li><h3>AContent LCMS</h3>
  
        
        
          <li class=""><a href="https://atutor.github.io/acontent/index.html">AContent Details</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/acontent/downloads.html">Downloads</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/acontent/docs/index.html">Documentation</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/acontent/languages.html">Translation</a></li>
        
      </ul>
  
    <ul>
    <li><h3>Developers</h3>
  
        
        
          <li class=""><a href="https://atutor.github.io/developer/guidelines.html">Developer Docs</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/developer/modules.html">Module Developer</a></li>
        
        
          <li class=""><a href="https://atutor.github.io/developer/languages.html">Translation</a></li>
        
        
          <li class=""><a href="https://github.com/atutor/ATutor/issues">Report Issues</a></li>
        
      </ul>
  
</nav>
        <hr>
        <script>
          (function() {
            var cx = '003504471195032332048:igzbiihmmcg';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
        </script>
        <div class="gsearch"><gcse:searchbox-only></gcse:searchbox-only>
                </div>
                <hr />
             <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
             <!-- githubfoot -->
             <ins class="adsbygoogle"
                  style="display:block"
                  data-ad-client="ca-pub-2250446123648311"
                  data-ad-slot="4063107943"
                  data-ad-format="auto"></ins>
             <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
             </script>
        </div>
        <div class="contentstart">
        <ol class="breadcrumbs">
            <li><a href="https://atutor.github.io/">Home</a></li>
            
        </ol>
        <div class='threadlist'>
<br /><div><a href='exported_forum1.html' class='midtext'>Back to: Thread list</a></div>
<br /><br /><div><strong>Pages:</strong><a href="exported_forum1.html?page=1">1</a> <a href="exported_forum2.html?page=2">2</a> <a href="exported_forum3.html?page=3">3</a> <a href="exported_forum4.html?page=4">4</a> <strong><a href="exported_forum5.html">5</a></strong> <a href="exported_forum6.html?page=6">6</a> <a href="exported_forum7.html?page=7">7</a> <a href="exported_forum8.html?page=8">8</a> <a href="exported_forum9.html?page=9">9</a> <a href="exported_forum10.html?page=10">10</a> <a href="exported_forum11.html?page=11">11</a> <a href="exported_forum12.html?page=12">12</a> <a href="exported_forum13.html?page=13">13</a> <a href="exported_forum14.html?page=14">14</a> <a href="exported_forum15.html?page=15">15</a> </div>
<div><p><br /><h3>Strip slashes causing a problem with LaTeX</h3></div><br />
<div><ul class='forum-thread'>

	<li class="even">
		<a name="17990"></a>
		<div class="forum-post-author">
			<label class="title">gtilflm</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2009-07-11 00:07:19</p>
            </div>
            <div class="postheader"><h3>Strip slashes causing a problem with LaTeX</h3></div>
				
			<div class="body">
				<p>Hello.  I have 1.6.2 installed and I'm using LaTeX to write math equations.<br />
<br />
I think the "stripslashes" code is interfering though.  For example, in LaTeX, the "square root of 50" is written as "\sqrt{50}".  When I initially enter than into a question in Tests and Surveys, it displays fine.  However, the second time (and every time thereafter) I preview that question, it doesn't display right.  <br />
<br />
The reason I think stripslashes is involved is because when I go back to the question to edit it none of the "\" marks are there causing the LaTeX elements that rely on those to not display properly.  <br />
<br />
Any thoughts?<br />
<br />
Thanks.</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="17997"></a>
		<div class="forum-post-author">
			<label class="title">greg</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2009-07-11 09:03:01</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>Did you use the [tex]\sqrt{50}[/tex] tags?</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="18000"></a>
		<div class="forum-post-author">
			<label class="title">gtilflm</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2009-07-12 15:34:31</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>No.  I use the &lt;code lang="latex">&lt;/code> and &lt;pre lang="latex">&lt;/pre> tags because I put:<br />
<br />
[php]&lt;script type="text/javascript" src="http://latex.codecogs.com/render.js">&lt;/script><br />
[/php] <br />
<br />
on my ATutor pages to display LaTeX in Tests and Surveys.  <br />
<br />
<br />
1.6.2 doesn't support LaTeX for Tests and Surveys does it?</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="18001"></a>
		<div class="forum-post-author">
			<label class="title">gtilflm</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2009-07-12 15:35:40</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>Note: Disregard the beginning and ending php tags in my last post.</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="18005"></a>
		<div class="forum-post-author">
			<label class="title">greg</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2009-07-13 08:47:04</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>I don't know how render.js works, so you're on your own. <br />
<br />
1.6.3 will be out in a couple weeks. It will support LaTeX all around.</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="19426"></a>
		<div class="forum-post-author">
			<label class="title">kiwilara</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2010-01-14 17:35:27</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>I am having the same stripslashes problem.<br />
<br />
I am using 1.6.3 which has latex embedding included with the [tex] [/tex] tags.<br />
<br />
Latex works perfectly everywhere except in the tests section.<br />
<br />
In the tests section I have the same problem you are having where my back slashes get somehow automatically taken away.  <br />
<br />
Did you find a fix for this?<br />
What is the strip slashes code?  Does it serve some useful purpose or can I just remove it?  or edit it so it leaves my latex alone?<br />
<br />
I am confused because this only happens with the editor in the test section not with the editor anywhere else so I am wondering if there is just a line of code missing somewhere in the editor call; can anyone help me in which files I should look at or compare to see why (and hopefully fix) I am getting this problem only in the tests section.<br />
(Have just installed all the patches for 1.6.3, though two  of the patches (4 and 7) had to be undone as they stopped Atutor from working.  But the patches didn't fix the latex problem.)<br />
<br />
Thanks alot,<br />
Lara</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="19442"></a>
		<div class="forum-post-author">
			<label class="title">gtilflm</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2010-01-16 11:45:22</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>Lara,<br />
<br />
I did come up with a solution and I haven't seen any adverse effects from it.  Maybe there's a better way though.<br />
<br />
Example of what I did....<br />
<br />
In /ATutor/tools/tests/edit_question_matching.php around line 187 (it will probably be different for you because my installation has been modified)...<br />
<br />
REPLACE:  <br />
<br />
"echo htmlspecialchars(stripslashes($_POST['question']));"<br />
<br />
WITH: <br />
<br />
"echo htmlspecialchars($_POST['question']);"  <br />
<br />
<br />
<br />
Then around line 203...<br />
<br />
REPLACE:  <br />
<br />
"echo htmlspecialchars(stripslashes($_POST['answer']));"  <br />
<br />
WITH: <br />
<br />
"echo htmlspecialchars($_POST['answer']);"<br />
<br />
<br />
<br />
You'll need to do a similar thing for all of the question types. <br />
<br />
Hope it helps!</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="19458"></a>
		<div class="forum-post-author">
			<label class="title">kiwilara</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2010-01-18 21:40:38</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>Thanks a lot :).<br />
<br />
That solved half my problem (the half that was the same as yours).  I now no longer have back slashes getting removed and the latex appears correctly in my questions all the time.<br />
<br />
I still have a problem with the optional feedback section of long answer questions which doesn't recognise the [tex] [/tex] tags.<br />
<br />
Does  anyone have any idea which file is doing the formatting and output of text entered in the optional feedback section?  i.e. is there another file (other than include/lib/output.inc.php) in which I need to add the code about interpreting [tex][/tex] tags?<br />
<br />
Thanks a lot,<br />
Lara</p>
			</div>
		</div>
	</li>

	<li class="even">
		<a name="19461"></a>
		<div class="forum-post-author">
			<label class="title">kiwilara</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2010-01-19 06:20:52</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>Fix to above (my second problem see post above--re latex not being formatted in the optional feedback section of long questions) in Atutor 1.6.3 (after much frustration--given I know neither php nor html syntax!)<br />
<br />
Line 152 of ATutor-1.6.3/ATutor/tools/view_results.php<br />
changed from commented out line below to the line now above<br />
<br />
if ($row['feedback']) {<br />
/*line 151*/<br />
echo '&lt;div class="row">&lt;p>&lt;strong>'._AT('feedback').':&lt;/strong>&lt;/p>&lt;p> ';<br />
/*new line 152*/<br />
echo AT_print($row['feedback'],'tests_questions.feedback').'&lt;/p>&lt;/div>';<br />
/*removed line 152*/<br />
/*echo nl2br($row['feedback']).'&lt;/p>&lt;/div>';*/<br />
}<br />
<br />
This seems to work, but I've only checked against my own test results not other users.<br />
<br />
There is another file with the same name within the tests directory which I've also changed in the same manner (well that was the one I changed first---and it didn't seem to work, cue increasing frustration!!); really not sure when this second file gets called or by what function but I've left it changed for now.</p>
			</div>
		</div>
	</li>

	<li class="odd">
		<a name="19464"></a>
		<div class="forum-post-author">
			<label class="title">cindy</label><br />
		</div>

		<div class="forum-post-content">
			
			<div class="date">
                <p>2010-01-19 16:30:58</p>
            </div>
            <div class="postheader"><h3>Re: Strip slashes causing a problem with LaTeX?</h3></div>
				
			<div class="body">
				<p>Patch #04 for 1.6.4 has been issued for this fix. Please login as admin, go to "Patcher" to install, provided u r using ATutor 1.6.4<br />
<br />
Cheers!</p>
			</div>
		</div>
	</li>
</ul></div>

        </div>
         </div>
     </div>
          <footer class="site-footer">
              <div class="cd-color-4">
		<div class="cd-container">
         <div id="google_ads">
		 <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<!-- githubfoot -->
		<ins class="adsbygoogle"
     		style="display:block"
     		data-ad-client="ca-pub-2250446123648311"
     		data-ad-slot="4063107943"
     		data-ad-format="auto"></ins>
		<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
            </div> 
		</div> 
	</div>
      </footer>
    </section>

    
  </body>
</html>
